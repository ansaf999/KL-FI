****************************************************************																																
*   This file was generated by Direct Download Enterprise.     *																																
*   Please do not change it manually.                          *																																
****************************************************************																																
%_DYNPRO																																
SAPMZ_DOWNPAY_CLEARING																																
9001																																
731																																
                40																																
%_HEADER																																
SAPMZ_DOWNPAY_CLEARING                  9001 9001     25170192 37  0  0 27183  0G E                              20140514143859																																
%_DESCRIPTION																																
Downpayment clearing screen																																
%_FIELDS																																
DOWNPAYMENT_ADJUSTMENT		CHAR	 24	00	00	08	38	00	  1	  3		  0	  0	  0		  0					  0	  0								DOWNPAYMENTS ADJUSTMENTS		
TBC_9001			169	F4	F8	00	00	00	  2	  3	E	101	  1	  1		  7	T				  5	 15										
WA_ITAB-BELNR		CHAR	 12	00	00	08	30	80	  1	  1	T	101	  1	  1		 12					  0	  0								Document No.		
WA_ITAB-BUKRS		CHAR	  9	00	00	08	30	80	  1	  2	T	101	  1	  1		 10					  0	  0								Comp Code		
WA_ITAB-GJAHR		CHAR	  9	00	00	08	30	80	  1	  3	T	101	  1	  1		 12					  0	  0								Fiscal Yr		
WA_ITAB-UMSKZ		CHAR	  7	00	00	08	30	80	  1	  4	T	101	  1	  1		  8					  0	  0								Spl. GL		
WA_ITAB-EBELN		CHAR	  6	00	00	08	30	80	  1	  5	T	101	  1	  1		 11					  0	  0								PO No.		
WA_ITAB-EBELP		CHAR	  4	00	00	08	30	80	  1	  6	T	101	  1	  1		  5					  0	  0								Item		
WA_ITAB-PD_AMT		CHAR	 11	00	00	08	30	80	  1	  7	T	101	  1	  1		 13					  0	  0								Paid Amount		
WA_ITAB-AVL_VAL		CHAR	 15	00	00	08	30	80	  1	  8	T	101	  1	  1		 16					  0	  0								Available Value		
*WA_ITAB-FULL_ADJ		CHAR	  8	00	00	08	30	80	  1	  9	T	101	  1	  1		  9					  0	  0								Full Adj		
*WA_ITAB-PART_ADJ		CHAR	 11	00	00	08	30	80	  1	 10	T	101	  1	  1		 11					  0	  0								Partial Adj		
*WA_ITAB-NO_ADJ		CHAR	  6	00	00	08	30	80	  1	 11	T	101	  1	  1		  8					  0	  0								No adj		
WA_ITAB-ADJ_VAL		CHAR	 14	00	00	08	30	80	  1	 12	T	101	  1	  1		 15					  0	  0								Adjusted Value		
WA_ITAB-ADJ_DOC		CHAR	 17	00	00	00	30	80	  1	 13	T	101	  1	  1		 17					  0	  0								Adjusted Document		
WA_ITAB-SEL		CHAR	  1	80	00	88	00	20	  1	  0	T	101	  1	  1		  1	C				  0	  0	113									
WA_ITAB-BELNR		CHAR	 12	80	00	88	30	00	  1	  1	T	101	  1	  1		 14					  0	  0								____________		
WA_ITAB-BUKRS		CHAR	  4	80	00	88	30	00	  1	  2	T	101	  1	  1		 10					  0	  0								____		
WA_ITAB-GJAHR		NUMC	  4	80	00	88	30	00	  1	  3	T	101	  1	  1		 12					  0	  0								____		
WA_ITAB-UMSKZ		CHAR	  1	80	00	88	30	00	  1	  4	T	101	  1	  1		  8					  0	  0										
WA_ITAB-EBELN		CHAR	 10	80	00	88	30	00	  1	  5	T	101	  1	  1		 11					  0	  0								__________		
WA_ITAB-EBELP		NUMC	  5	80	00	88	30	00	  1	  6	T	101	  1	  1		  5					  0	  0								_____		
WA_ITAB-PD_AMT		CURR	 16	80	00	88	30	00	  1	  7	T	101	  1	  1		 13					  0	  0		T001-WAERS						________________		
WA_ITAB-AVL_VAL		CURR	 16	80	00	88	30	00	  1	  8	T	101	  1	  1		 16					  0	  0		T001-WAERS						________________		
WA_ITAB-FULL_ADJ		CHAR	  1	80	00	88	80	00	  1	  9	T	101	  1	  1		  9	A				  0	  0	104								                                                                                                                                                                        RADIO3	
WA_ITAB-PART_ADJ		CHAR	  1	80	00	88	80	00	  1	 10	T	101	  1	  1		 11	A				  0	  0	104								                                                                                                                                                                        RADIO3	
WA_ITAB-NO_ADJ		CHAR	  1	80	00	88	80	00	  1	 11	T	101	  1	  1		  8	A				  0	  0	104								                                                                                                                                                                        RADIO3	
WA_ITAB-ADJ_VAL		CURR	 16	80	00	88	30	00	  1	 12	T	101	  1	  1		 15					  0	  0		T001-WAERS						________________		
WA_ITAB-ADJ_DOC		CHAR	 17	80	00	88	30	00	  1	 13	T	101	  1	  1		 17			BLN	ALPHA	  0	  0								_________________		
TBC_9001_TOP		CHAR	  4	00	00	08	30	00	  9	  3		  0	  0	  0		  3	P				  0	  0	114			PAG				@2Y@	                                                                                                                                                                        TBC_9001_P--	
TBC_9001_PREVIOUS		CHAR	  4	00	00	08	30	00	  9	  7		  0	  0	  0		  3	P				  0	  0	115			PAG				@2Z@	                                                                                                                                                                        TBC_9001_P-	
TBC_9001_NEXT		CHAR	  4	00	00	08	30	00	  9	 11		  0	  0	  0		  3	P				  0	  0	103			PAG				@30@	                                                                                                                                                                        TBC_9001_P+	
TBC_9001_BOTTOM		CHAR	  4	00	00	08	30	00	  9	 15		  0	  0	  0		  3	P				  0	  0	105			PAG				@31@	                                                                                                                                                                        TBC_9001_P++	
TOTAL_DOWNPAYMENT_ADJ		CHAR	 26	00	00	08	30	00	 11	  3		  0	  0	  0		  0					  0	  0								Total downpayment Adjusted	                                                                                                                                                                                                                                                        X	
TOT_ADJ_DP		CURR	 16	80	00	88	30	00	 11	 30		  0	  0	  0		  0					  0	  0		T001-WAERS						________________		
DEBIT_NOTE_ADJUSTMENT	0	CHAR	 23	00	00	00	38	00	 13	  3		  0	  0	  0		  0					  0	  0								DEBIT NOTE ADJUSTMENTS		
TBC_9001_DN			169	F4	F8	00	00	00	 14	  3	E	102	  1	  1		  7	T				  5	 15										
WA_ITAB_DN-BELNR		CHAR	 12	00	00	08	30	80	  1	  1	T	102	  1	  1		 15					  0	  0								Document No.		
WA_ITAB_DN-BUKRS		CHAR	  9	00	00	08	30	80	  1	  2	T	102	  1	  1		 10					  0	  0								Comp Code		
WA_ITAB_DN-GJAHR		CHAR	  9	00	00	08	30	80	  1	  3	T	102	  1	  1		 11					  0	  0								Fiscal Yr		
WA_ITAB_DN-UMSKZ		CHAR	  7	00	00	08	30	80	  1	  4	T	102	  1	  1		  8					  0	  0								Spl. GL		
WA_ITAB_DN-EBELN		CHAR	  6	00	00	08	30	80	  1	  5	T	102	  1	  1		 10					  0	  0								PO No.		
WA_ITAB_DN-EBELP		CHAR	  4	00	00	08	30	80	  1	  6	T	102	  1	  1		  5					  0	  0								Item		
WA_ITAB_DN-PD_AMT		CHAR	 11	00	00	08	30	80	  1	  7	T	102	  1	  1		 14					  0	  0								Paid Amount		
WA_ITAB_DN-AVL_VAL		CHAR	 15	00	00	08	30	80	  1	  8	T	102	  1	  1		 16					  0	  0								Available Value		
*WA_ITAB_DN-FULL_ADJ		CHAR	  8	00	00	08	30	80	  1	  9	T	102	  1	  1		  8					  0	  0								Full Adj		
*WA_ITAB_DN-PART_ADJ		CHAR	 11	00	00	08	30	80	  1	 10	T	102	  1	  1		 11					  0	  0								Partial Adj		
*WA_ITAB_DN-NO_ADJ		CHAR	  6	00	00	08	30	80	  1	 11	T	102	  1	  1		  9					  0	  0								No Adj		
WA_ITAB_DN-ADJ_VAL		CHAR	 14	00	00	08	30	80	  1	 12	T	102	  1	  1		 16					  0	  0								Adjusted Value		
WA_ITAB_DN-ADJ_DOC		CHAR	 17	00	00	08	30	80	  1	 13	T	102	  1	  1		 17					  0	  0								Adjusted Document		
WA_ITAB_DN-SEL		CHAR	  1	80	00	88	00	20	  1	  0	T	102	  1	  1		  1	C				  0	  0	106									
WA_ITAB_DN-BELNR		CHAR	 10	80	00	88	30	00	  1	  1	T	102	  1	  1		 15					  0	  0								__________		
WA_ITAB_DN-BUKRS		CHAR	  4	80	00	88	30	00	  1	  2	T	102	  1	  1		 10					  0	  0								____		
WA_ITAB_DN-GJAHR		NUMC	  4	80	00	88	30	00	  1	  3	T	102	  1	  1		 11					  0	  0								____		
WA_ITAB_DN-UMSKZ		CHAR	  1	80	00	88	30	00	  1	  4	T	102	  1	  1		  8					  0	  0										
WA_ITAB_DN-EBELN		CHAR	 10	80	00	88	30	00	  1	  5	T	102	  1	  1		 10					  0	  0								__________		
WA_ITAB_DN-EBELP		NUMC	  5	80	00	88	30	00	  1	  6	T	102	  1	  1		  5					  0	  0								_____		
WA_ITAB_DN-PD_AMT	P	CURR	 16	80	00	88	30	00	  1	  7	T	102	  1	  1		 14					  0	  0		T001-WAERS						________________		
WA_ITAB_DN-AVL_VAL	P	CURR	 16	80	00	88	30	00	  1	  8	T	102	  1	  1		 16					  0	  0		T001-WAERS						________________		
WA_ITAB_DN-FULL_ADJ		CHAR	  1	80	00	88	80	00	  1	  9	T	102	  1	  1		  8	A				  0	  0	110								                                                                                                                                                                        RADIO1	
WA_ITAB_DN-PART_ADJ		CHAR	  1	80	00	88	80	00	  1	 10	T	102	  1	  1		 11	A				  0	  0	110								                                                                                                                                                                        RADIO1	
WA_ITAB_DN-NO_ADJ		CHAR	  1	80	00	88	80	00	  1	 11	T	102	  1	  1		  9	A				  0	  0	110								                                                                                                                                                                        RADIO1	
WA_ITAB_DN-ADJ_VAL	P	CURR	 16	80	00	88	30	00	  1	 12	T	102	  1	  1		 16					  0	  0		T001-WAERS						________________		
WA_ITAB_DN-ADJ_DOC		CHAR	 10	80	00	88	30	00	  1	 13	T	102	  1	  1		 17					  0	  0								__________		
TBC_9001_DN_TOP		CHAR	  4	00	00	08	30	00	 21	  3		  0	  0	  0		  3	P				  0	  0	107			PAG				@2Y@	                                                                                                                                                                        TBC_9001_DN_P--	
TBC_9001_DN_PREVIOUS		CHAR	  4	00	00	08	30	00	 21	  7		  0	  0	  0		  3	P				  0	  0	108			PAG				@2Z@	                                                                                                                                                                        TBC_9001_DN_P-	
TBC_9001_DN_NEXT		CHAR	  4	00	00	08	30	00	 21	 11		  0	  0	  0		  3	P				  0	  0	109			PAG				@30@	                                                                                                                                                                        TBC_9001_DN_P+	
TBC_9001_DN_BOTTOM		CHAR	  4	00	00	08	30	00	 21	 15		  0	  0	  0		  3	P				  0	  0	111			PAG				@31@	                                                                                                                                                                        TBC_9001_DN_P++	
TOTAL_DEBITNOTE_ADJ	0	CHAR	 26	00	00	00	30	00	 23	  3		  0	  0	  0		  0					  0	  0								Total Debit Note Adjusted		
TOT_ADJ_DN	P	CURR	 19	80	00	80	30	00	 23	 30		  0	  0	  0		  0					  0	  0		T001-WAERS						___________________		
TOTAL_ADJUSTMENTS	0	CHAR	 26	00	00	00	30	00	 25	  3		  0	  0	  0		  0					  0	  0								Total Adjustments		
TOT_ADJ	P	CURR	 20	80	00	80	30	00	 25	 30		  0	  0	  0		  0					  0	  0		T001-WAERS						____________________		
		CHAR	 20	80	10	08	00	00	255	  1	O	  0	  0	  0		  0					  0	  0								____________________		
%_FLOWLOGIC																																
																																
PROCESS BEFORE OUTPUT.																																
* Downpayment Adjustment Tab																																
*&SPWIZARD: PBO FLOW LOGIC FOR TABLECONTROL 'TBC_9001'																																
  MODULE tbc_9001_change_tc_attr.																																
  MODULE fill_table.																																
*&SPWIZARD: MODULE TBC_9001_CHANGE_COL_ATTR.																																
  LOOP AT   it_itab																																
       INTO wa_itab																																
       WITH CONTROL tbc_9001																																
       CURSOR tbc_9001-current_line.																																
    MODULE tbc_9001_get_lines.																																
*&SPWIZARD:   MODULE TBC_9001_CHANGE_FIELD_ATTR																																
  ENDLOOP.																																
																																
* Debit Note Adjustment Tab																																
*&SPWIZARD: PBO FLOW LOGIC FOR TABLECONTROL 'TBC_9001_DN'																																
  MODULE tbc_9001_dn_change_tc_attr.																																
  MODULE fill_table_dn.																																
*&SPWIZARD: MODULE TBC_9001_DN_CHANGE_COL_ATTR.																																
  LOOP AT   it_itab_dn																																
       INTO wa_itab_dn																																
       WITH CONTROL tbc_9001_dn																																
       CURSOR tbc_9001_dn-current_line.																																
    MODULE tbc_9001_dn_get_lines.																																
*&SPWIZARD:   MODULE TBC_9001_DN_CHANGE_FIELD_ATTR																																
  ENDLOOP.																																
																																
  MODULE status_9001.																																
																																
PROCESS AFTER INPUT.																																
* Downpayment adjustment tab																																
*&SPWIZARD: PAI FLOW LOGIC FOR TABLECONTROL 'TBC_9001'																																
  LOOP AT it_itab.																																
    CHAIN.																																
      FIELD wa_itab-belnr.																																
      FIELD wa_itab-bukrs.																																
      FIELD wa_itab-gjahr.																																
      FIELD wa_itab-umskz.																																
      FIELD wa_itab-ebeln.																																
      FIELD wa_itab-ebelp.																																
      FIELD wa_itab-pd_amt.																																
      FIELD wa_itab-avl_val.																																
      FIELD wa_itab-full_adj.																																
      FIELD wa_itab-part_adj.																																
      FIELD wa_itab-no_adj.																																
      FIELD wa_itab-adj_val.																																
      FIELD wa_itab-adj_doc.																																
      MODULE tbc_9001_modify ON CHAIN-REQUEST.																																
    ENDCHAIN.																																
    FIELD wa_itab-sel																																
      MODULE tbc_9001_mark ON REQUEST.																																
  ENDLOOP.																																
  MODULE tbc_9001_user_command.																																
*&SPWIZARD: MODULE TBC_9001_CHANGE_TC_ATTR.																																
*&SPWIZARD: MODULE TBC_9001_CHANGE_COL_ATTR.																																
																																
  FIELD tot_adj_dp.																																
  MODULE tot_adj_dp.																																
																																
* Debit Note Adjustment tab																																
*&spwizard: pai flow logic for tablecontrol 'TBC_9001_DN'																																
  LOOP AT it_itab_dn.																																
    CHAIN.																																
      FIELD wa_itab_dn-belnr.																																
      FIELD wa_itab_dn-bukrs.																																
      FIELD wa_itab_dn-gjahr.																																
      FIELD wa_itab_dn-umskz.																																
      FIELD wa_itab_dn-ebeln.																																
      FIELD wa_itab_dn-ebelp.																																
      FIELD wa_itab_dn-pd_amt.																																
      FIELD wa_itab_dn-avl_val.																																
      FIELD wa_itab_dn-full_adj.																																
      FIELD wa_itab_dn-part_adj.																																
      FIELD wa_itab_dn-no_adj.																																
      FIELD wa_itab_dn-adj_val.																																
      FIELD wa_itab_dn-adj_doc.																																
      MODULE tbc_9001_dn_modify ON CHAIN-REQUEST.																																
    ENDCHAIN.																																
    FIELD wa_itab_dn-sel																																
      MODULE tbc_9001_dn_mark ON REQUEST.																																
  ENDLOOP.																																
  MODULE tbc_9001_dn_user_command.																																
*&SPWIZARD: MODULE TBC_9001_DN_CHANGE_TC_ATTR.																																
*&SPWIZARD: MODULE TBC_9001_DN_CHANGE_COL_ATTR.																																
																																
  FIELD tot_adj_dn .																																
  MODULE tot_adj_dn .																																
																																
  FIELD tot_adj .																																
  MODULE tot_adj.																																
																																
  MODULE user_command_9001.																																
